# JVM内存模型

## JVM 内存结构

## JVM参数解释

-Xmx：最大堆大小

-Xms：初始堆大小

-Xmn：新生代大小

-XXSurvivorRatio：新生代中Eden区与Survivor区的大小比值

代表Eden:Survivor = 3    根据Generation-Collection算法(目前大部分JVM采用的算法)，一般根据对象的生存周期将堆内存分为若干不同的区域，一般情况将新生代分为Eden ，两块Survivor；    计算Survivor大小， Eden:Survivor = 3，总大小为5120,3x+x+x=5120  x=1024

新生代大部分要回收，采用Copying算法，快！

老年代 大部分不需要回收，采用Mark-Compact算法

## 垃圾回收

两个最基本的Java回收算法：**复制算法**和**标记清理算法**

复制算法：两个区域A和B，初始对象在A，继续存活的对象被转移到B。此为新生代最常用的算法

标记清理：一块区域，标记可达对象（可达性分析），然后回收不可达对象，会出现碎片，那么引出

标记-整理算法：多了碎片整理，整理出更大的内存放更大的对象

两个概念：新生代和年老代

新生代：初始对象，生命周期短的

永久代：长时间存在的对象

整个Java的垃圾回收是新生代和年老代的协作，这种叫做分代回收。

综上：新生代基本采用复制算法，老年代采用标记整理算法。cms采用标记清理。

